/*! teacher_trivia 2015-09-04 */
myApp.controller("StudentJoinGameController",["$scope","$http","userProperties",function(a,b,c){a.username=c.get("username"),a.quiz={},a.quizzes=[],a.fetchGame=function(c){console.log(c);var d={code:c},e=JSON.stringify(d);return b.post("/quizToPlay",e).then(function(c){if(200!==c.status)throw new error("Failed to get game from the database");return a.sendInfo={},a.sendInfo.id=c.data._id,a.sendInfo.player=a.username,a.quizzesToPlay=[],c.data.players.push(a.username),a.quizzesToPlay.push(c.data),console.log(a.quizzesToPlay),b.post("/add-player",a.sendInfo).then(function(a){if(200!=a.status)throw new error("Failed to get game from the database");return console.log(a.data),a.data})})}}]);